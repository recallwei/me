---
import { getEntryBySlug } from 'astro:content'
import type { CollectionEntry } from 'astro:content'
import { BlogLayout } from '@/layouts'

const { slug } = Astro.params
if (slug === undefined) {
  throw new Error('Slug is required')
}



// 2. Query for the entry directly using the request slug
const entry = await getEntryBySlug('post', slug)
console.log(entry);

// 3. Redirect if the entry does not exist
if (entry === undefined) {
  return Astro.redirect('/404')
}
// 4. (Optional) Render the entry to HTML in the template
const { Content } = await entry.render()

// import Post from "@layouts/Post.astro";
// import { getPosts } from "@utils";

// export interface Props {
//   post: CollectionEntry<'blog'>
// }

// const { post } = Astro.props

// export const getStaticPaths = async () =>
//   (await getPosts('en')).map((post) => ({
//     params: { slug: post.slug },
//     props: { post }
//   }))
---

<div>{Content}</div>
